def determinant(A):
    # Получаем размерность матрицы A
    n = len(A)
    
    # Базовый случай: если матрица 1x1, возвращаем единственный элемент
    if n == 1:
        return A[0][0]
    
    # Базовый случай: если матрица 2x2, вычисляем определитель по формуле 
    elif n == 2:
        return A[0][0] * A[1][1] - A[0][1] * A[1][0]
    
    # Инициализируем переменную для хранения значения определителя
    det = 0
    
    # Применяем разложение по первому ряду матрицы
    for i in range(n):
        # Создаем матрицу B, которая является матрицей A без первого ряда и i-го столбца
        B = [row[:i] + row[i+1:] for row in A[1:]]
        
        # Увеличиваем определитель с учетом знака и элемента из первого ряда
        det += ((-1) ** i) * A[0][i] * determinant(B)
    
    # Возвращаем окончательное значение определителя
    return det


# Инициализация пустой матрицы
matrix = []

# Запрос размеров матрицы у пользователя
n = int(input('Введите n (число столбцов): '))
m = int(input('Введите m (число строк): '))

# Создаем пустой список для ввода чисел
list_num = []

# Ввод элементов матрицы
for i in range(m):
    for j in range(n):
        # Запрашиваем у пользователя ввод числа
        list_num.append(float(input('Введите число: ')))
    # После ввода строки, переходим к следующей строке
    print('Переходим на следующую строку')
    
    # Добавляем введённую строку в матрицу
    matrix.append(list_num)
    
    # Очищаем список для следующей строки
    list_num = []
    
# Выводим введенную матрицу
print("Введенная матрица:")
print(matrix)

# Вычисляем и выводим определитель матрицы
print("Определитель матрицы:", determinant(matrix))
