<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AliasWEB</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-logo">
                <nav>
                    <div class="navbar">
                        <ul class="nav_list">
                            <li class="nav_item"><a href="/">Главная</a></li>
                            <li class="nav_item" id="rules">Правила</li>
                            <li class="nav_item" id="about-us">О нас</li>
                        </ul>
                    </div>
                </nav>
                <img src="../static/pictures/logo.png" alt="logo">
            </div>
            <div class="header-name">
                <p>Alias<span>WEB</span></p>
            </div>
            <div class="rules-wrapper">
                <div class="rules">
                    <div class="rules-close">
                        <img src="../static/pictures/plus.png" alt="close" id="rules-close">
                    </div>
                    <div class="rules-text">
                        <div class="rules-text-wrapper">
                            <h2>Правила игры</h2>
                            <p>1. Игроки делятся на выбранное число команд (максимальное число команд - 5).</p>
                            <p>2. Игра начинается с первой команды. Игрок  объясняет слово своим сокомандникам.</p>
                            <p>3. Объясняющий не может использовать однокоренные слова, а также переводы на другие языки в своем объяснении.</p>
                            <p>4. Если команда угадывает слово, она получает одно очко, если пропускает, не получает ничего. И так по кругу.</p>
                            <p>5. Игра продолжается до тех пор, пока не истечет время или одна из команд не наберет нужное количество очков (время, а так же очки для победы выбираются пользователем при настройке игры).</p>
                            <p>6. Побеждает команда, которая первая наберет фиксированное количество очков.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="about-us-wrapper">
                <div class="about">
                    <div class="about-close">
                        <img src="../static/pictures/plus.png" alt="close" id="about-us-close">
                    </div>
                    <div class="about-text">
                        <div class="about-text-wrapper">
                            <h2>О нас</h2>
                            <p>Над созданием сайта работали студенты первого курса Кафедры Компьютерной инженерии и Моделирования Крымского Федерального Университета им. В. И. Вернадского. В состав команды вошли: Рыбовалов Серафим Олегович (тим-лид, front-end разработчик) Демьяненко Виктория Сергеевна (дизайнер, front-end разработчик) Сокирко Анна Алексеевна (тестировщик, front-end разработчик) Соколов Виктор  Евгеньевич (back-end разработчик, тестировщик) Беликов Тимофей Михайлович (back-end разработчик)</p>
                            <p>По всем вопросам обращаться: serafimrybovalov@gmail.com</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main>
        <section class="section-theme">
            <div class="container">
                <div class="theme-wrapper">
                    <div class="theme-wrapper__title">
                        <h2>Выберите наборы слов, с которыми хотите играть</h2>
                    </div>
                    <div class="theme-wrapper__list">
                        <div class="theme-list__item">
                            <button id='btn1'><img src="../static/pictures/base-theme.png" alt="base-theme" id="theme"><h4>Базовый Набор</h4></button>
                        </div>
                        <div class="theme-list__item">
                            <button id='btn2'><img src="../static/pictures/it-theme.png" alt="it-theme" id="it-theme"><h4>IT</h4></button>
                        </div>
                        <div class="theme-list__item">
                            <button id='btn3'><img src="../static/pictures/jurisprudence-theme.png" alt="jurisprudence-theme" id="theme"><h4>Юриспруденция</h4></button>
                        </div>
                        <div class="theme-list__item">
                            <button id='btn4'><img src="../static/pictures/newyear-theme.png" alt="newyear-theme" id="theme"><h4>Новый год</h4></button>
                        </div>
                        <div class="theme-list__item">
                            <button id='btn5'><img src="../static/pictures/marvel-theme.png" alt="marvel-theme" id="theme"><h4>Marvel</h4></button>
                        </div>
                        <div class="theme-list__item">
                            <button id='btn6'><img src="../static/pictures/nethure-theme.png" alt="nethure-theme" id="theme"><h4>Природа</h4></button>
                        </div>
                        <div class="theme-list__item">
                            <button id='btn7'><img src="../static/pictures/food-theme.png" alt="food-theme" id="theme"><h4>еда</h4></button>
                        </div>
                        <div class="theme-list__item">
                            <button id='btn8'><img src="../static/pictures/film-theme.png" alt="film-theme" id="theme"><h4>Фильмы</h4></button>
                        </div>
                        <div class="theme-list__item my-theme-item">
                            <button id="btn9"><img src="../static/pictures/my-theme.png" alt="my-theme" id="theme"><h4>Свой набор</h4></button>
                        </div>
                        <div class="theme-list__item change-item">
                            <button onclick="redirectToHandler()"><p>Редактировать</p></button>
                        </div>
                    </div>
                    <div class="next-h">
                        <a href="game" class="next">Дальше</a>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <div class="container">
            
        </div>
    </footer>
    <script>
        var rules_element = document.querySelector('.rules-wrapper');
        var my_theme = document.querySelector('.my-theme-item').firstElementChild;
        var chenge_item = document.querySelector('.change-item').firstElementChild;

        document.addEventListener('mouseover', function (event) {
            if (event.target.alt === 'my-theme' || event.target == chenge_item){
                chenge_item.style.margin = '-270px -1180px 0px 0px'
            }
            else{
                if(event.target.tagName === 'BUTTON'){
                    chenge_item.style.margin = '-270px -761px 0px 0px'
                }
            }
        })

        document.getElementById("rules").onclick = function() {
            rules_element.classList.toggle('rules-active')
        };

        document.getElementById("rules-close").onclick = function() {
            rules_element.classList.toggle('rules-active')
        };
        var about_us = document.querySelector('.about-us-wrapper');
        
        document.getElementById("about-us").onclick = function() {
            about_us.classList.toggle('about-active')
        };
    
        document.getElementById("about-us-close").onclick = function() {
            about_us.classList.toggle('about-active')
        };
    </script>
    <script>
        let theme = document.querySelectorAll(".theme-list__item")
        let butt = document.querySelector(".next-h")
        let count= 0


        let flagsget = 0;
        function getFlags() {
            fetch('/flag_kat')
                .then(res => {
                    console.log(res);
                    return res.json();
                })
                .then(data => {
                    console.log(data)
                    console.log(theme)
                    if(data.baza === true){
                        theme[0].firstElementChild.firstChild.classList.add('active')
                        count += 1
                    }
                    if(data.it === true){
                        theme[1].firstElementChild.firstChild.classList.add('active')
                        count += 1
                    }
                    if(data.ur === true){
                        theme[2].firstElementChild.firstChild.classList.add('active')
                        count += 1
                    }
                    if(data.new_yoer === true){
                        theme[3].firstElementChild.firstChild.classList.add('active')
                        count += 1
                    }
                    if(data.marvel === true){
                        theme[4].firstElementChild.firstChild.classList.add('active')
                        count += 1
                    }
                    if(data.neture === true){
                        theme[5].firstElementChild.firstChild.classList.add('active')
                        count += 1
                    }
                    if(data.eat === true){
                        theme[6].firstElementChild.firstChild.classList.add('active')
                        count += 1
                    }
                    if(data.film === true){
                        theme[7].firstElementChild.firstChild.classList.add('active')
                        count += 1
                    }
                    if(data.svoy_nav === true){
                        theme[8].firstElementChild.firstChild.classList.add('active')
                        count += 1
                    }
                    if (count >= 1){
                        butt.classList.add("active")
                    }
                    else{
                        butt.classList.remove("active")
                    }
                })
                .catch(error => console.error(error));
        }
        var flags = getFlags();

        console.log(flags)

        document.addEventListener('click', function (event) {
            if (event.target.parentNode.tagName === "BUTTON"){
                if (count !== 9){
                    if (event.target.classList[0] !== 'active'){
                        event.target.classList.toggle("active")
                        count += 1  
                    }
                    else{
                        event.target.classList.toggle("active")
                        count -= 1
                    }
                }
                else{
                    if (event.target.classList[0] === 'active'){
                        event.target.classList.toggle("active")        
                        count -= 1
                    }
                }
                if (count >= 1){
                    butt.classList.add("active")
                }
                else{
                    butt.classList.remove("active")
                }
            }
        })
    </script>
    <script>
        function redirectToHandler() {
          window.location.href = "/save_text_9";
        }
        </script>
        
        <script>
        document.getElementById("btn1").addEventListener("click", function() {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "/save_text_1", true);
            xhr.send();
        });
        </script>
        
        <script>
        document.getElementById('btn2').addEventListener('click', function() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '/save_text_2', true);
            xhr.send();
        });
        </script>
        
        <script>
        document.getElementById('btn3').addEventListener('click', function() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '/save_text_3', true);
            xhr.send();
        });
        </script>
        
        <script>
        document.getElementById('btn4').addEventListener('click', function() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '/save_text_4', true);
            xhr.send();
        });
        </script>
        
        <script>
        document.getElementById('btn5').addEventListener('click', function() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '/save_text_5', true);
            xhr.send();
        });
        </script>
        
        <script>
        document.getElementById('btn6').addEventListener('click', function() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '/save_text_6', true);
            xhr.send();
        });
        </script>
        
        <script>
        document.getElementById('btn7').addEventListener('click', function() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '/save_text_7', true);
            xhr.send();
        });
        </script>
        
        <script>
        document.getElementById('btn8').addEventListener('click', function() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '/save_text_8', true);
            xhr.send();
        });
        </script>
        
        <script>
            document.getElementById('btn9').addEventListener('click', function() {
                var xhr = new XMLHttpRequest();
                xhr.open('GET', '/save_text_10', true);
                xhr.send();
        });
        </script>
</body>
</html>